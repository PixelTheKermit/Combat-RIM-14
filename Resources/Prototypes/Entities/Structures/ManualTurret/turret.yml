- type: entity
  id: WeaponTurretManual
  name: Turret
  description: A static, very heavy gun. You better hope it's not pointing at you!
  components:
    - type: ManualTurret # BRAND NEW COMPONENT FROM PIXEL CO. MADE FROM THE BLOOD AND SWEAT OF ONE POOR CODER!
      soundGunshot: /Audio/Weapons/Guns/Gunshots/pistol.ogg
      fireRate: 12
    - type: Clickable
    - type: InteractionOutline
    - type: Sprite
      netsync: false
      sprite: Objects/Weapons/Guns/turrets.rsi
      drawdepth: WallMountedItems
      layers:
        - state: syndie_lethal
    - type: ItemSlots
      slots:
        turret_mag:
          name: Magazine
          startingItem: MagazineBoxMinigun
          insertSound: /Audio/Weapons/Guns/MagIn/pistol_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/pistol_magout.ogg
          priority: 1
          whitelist:
            tags:
              - MagazineBoxMinigun
    - type: ContainerContainer
      containers:
        turret_mag: !type:ContainerSlot
    - type: SignalReceiver
      inputs:
        TurretClockwise: []
        TurretAntiClockwise: []
        TurretStopRot: []
        TurretShootSemi: []
        TurretShootAutoToggle: []
        TurretShootAutoOn: []
        TurretShootAutoOff: []
    - type: Damageable
      damageContainer: Inorganic
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 300
          # TODO: Construction graph
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                path: /Audio/Effects/metalbreak.ogg
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5